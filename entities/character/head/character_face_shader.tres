[gd_resource type="VisualShader" load_steps=52 format=3 uid="uid://dkcbfqu6cc34g"]

[sub_resource type="VisualShaderNodeTexture2DArray" id="VisualShaderNodeTexture2DArray_aet6k"]
expanded_output_ports = [0]
source = 1

[sub_resource type="VisualShaderNodeUIntParameter" id="VisualShaderNodeUIntParameter_jkor2"]
parameter_name = "EyebrowIndex"
default_value_enabled = true

[sub_resource type="VisualShaderNodeTexture2DArrayParameter" id="VisualShaderNodeTexture2DArrayParameter_gj242"]
parameter_name = "Eyebrows"
color_default = 2
texture_filter = 1

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_rrygc"]

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_cxjf4"]
expanded_output_ports = [0]
input_name = "uv"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_xr0uj"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
expanded_output_ports = [0]
op_type = 0

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_ipiie"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(1, 1, 1, 1), 2, Quaternion(0.5, 0.5, 0.5, 0.5)]
op_type = 5

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_3texk"]
operator = 6

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_5wuyq"]
expanded_output_ports = [0]
input_name = "uv"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_iwp6e"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
expanded_output_ports = [0]
op_type = 0

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_hrwp8"]

[sub_resource type="VisualShaderNodeTexture2DArray" id="VisualShaderNodeTexture2DArray_pcrl7"]
expanded_output_ports = [0]
source = 1

[sub_resource type="VisualShaderNodeUIntParameter" id="VisualShaderNodeUIntParameter_3cci8"]
parameter_name = "MouthIndex"
default_value_enabled = true

[sub_resource type="VisualShaderNodeTexture2DArrayParameter" id="VisualShaderNodeTexture2DArrayParameter_esi73"]
parameter_name = "Mouths"
color_default = 2
texture_filter = 1
texture_repeat = 2

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_rcpnn"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(1, 1, 1, 1), 2, Quaternion(0.5, 0.5, 0.5, 0.5)]
op_type = 5

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_ou261"]
operator = 6

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_57fa5"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_usdsx"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0.5, 0.5)]
op_type = 0
operator = 1

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_ahumg"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0.5, 0.5)]
op_type = 0

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_yv685"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_bhlgu"]
parameter_name = "MouthSize"
min = 1.0
max = 3.0
default_value_enabled = true
default_value = 1.0

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_nctgo"]
parameter_name = "MouthHeight"
min = -0.35
max = -0.25
default_value_enabled = true

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_rxqw2"]
op_type = 0

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_n1t8u"]
op_type = 0

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_xs7ar"]
parameter_name = "EyebrowHeight"
max = 0.2
default_value_enabled = true

[sub_resource type="VisualShaderNodeTexture2DArrayParameter" id="VisualShaderNodeTexture2DArrayParameter_0msa2"]
parameter_name = "Eyes"
color_default = 2
texture_filter = 2
texture_repeat = 2

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_3jhca"]
parameter_name = "EyeHeight"
max = 0.1
default_value_enabled = true

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_jrjqc"]
op_type = 0

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_8kh30"]
expanded_output_ports = [0]
input_name = "uv"

[sub_resource type="VisualShaderNodeTexture2DArray" id="VisualShaderNodeTexture2DArray_w1r8e"]
expanded_output_ports = [0]
source = 1

[sub_resource type="VisualShaderNodeUIntParameter" id="VisualShaderNodeUIntParameter_wxowv"]
parameter_name = "EyeBlinkIndex"
default_value_enabled = true
default_value = 14

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_7ael0"]
input_name = "time"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_lew7t"]
default_input_values = [0, 0.0, 1, 3.0]
operator = 4

[sub_resource type="VisualShaderNodeMix" id="VisualShaderNodeMix_vbqqe"]

[sub_resource type="VisualShaderNodeFloatFunc" id="VisualShaderNodeFloatFunc_1f80w"]
function = 15

[sub_resource type="VisualShaderNodeIntConstant" id="VisualShaderNodeIntConstant_isbkg"]
constant = 10

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_dg2ka"]
default_input_values = [0, 0.0, 1, 3.0]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_g656x"]
default_input_values = [0, 0.0, 1, 1.0]
operator = 7

[sub_resource type="VisualShaderNodeVectorCompose" id="VisualShaderNodeVectorCompose_8legm"]

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_w567n"]
constant = -0.3

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_xw0v6"]

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_tshay"]
constant = 2.5

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_plntv"]
operator = 1

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_84pa7"]
constant = 0.12

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_o6isn"]

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_n75p8"]
parameter_name = "BlinkOffset"
hint = 1
default_value_enabled = true

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_x8op6"]

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_r64cm"]
constant = 0.05

[sub_resource type="VisualShaderNodeUIntParameter" id="VisualShaderNodeUIntParameter_h3d2i"]
parameter_name = "EyeIndex"
default_value_enabled = true

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_1dydu"]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_66xkb"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
expanded_output_ports = [0]
op_type = 0

[resource]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, cull_back, diffuse_lambert, specular_schlick_ggx;

uniform float EyeHeight = 0;
uniform uint EyeBlinkIndex = 14;
uniform uint EyeIndex = 0;
uniform float BlinkOffset : hint_range(0, 1) = 0;
uniform sampler2DArray Eyes : hint_default_transparent, filter_linear, repeat_disable;
uniform float EyebrowHeight = 0;
uniform uint EyebrowIndex = 0;
uniform sampler2DArray Eyebrows : hint_default_transparent, filter_nearest;
uniform float MouthSize = 1;
uniform float MouthHeight = 0;
uniform uint MouthIndex = 0;
uniform sampler2DArray Mouths : hint_default_transparent, filter_nearest, repeat_disable;



void fragment() {
// Input:49
	vec2 n_out49p0 = UV;


// FloatConstant:69
	float n_out69p0 = 0.050000;


// FloatParameter:40
	float n_out40p0 = EyeHeight;


// FloatOp:70
	float n_out70p0 = n_out69p0 + n_out40p0;


// VectorCompose:41
	float n_in41p0 = 0.00000;
	vec2 n_out41p0 = vec2(n_in41p0, n_out70p0);


// VectorOp:9
	vec2 n_out9p0 = n_out49p0 + n_out41p0;
	float n_out9p1 = n_out9p0.r;
	float n_out9p2 = n_out9p0.g;


// UIntParameter:50
	uint n_out50p0 = EyeBlinkIndex;


// UIntParameter:7
	uint n_out7p0 = EyeIndex;


// Input:51
	float n_out51p0 = TIME;


// FloatParameter:67
	float n_out67p0 = BlinkOffset;


// FloatOp:68
	float n_out68p0 = n_out51p0 + n_out67p0;


// FloatOp:58
	float n_in58p1 = 3.00000;
	float n_out58p0 = n_out68p0 * n_in58p1;


// IntConstant:57
	int n_out57p0 = 10;


// FloatOp:53
	float n_out53p0 = mod(n_out58p0, float(n_out57p0));


// FloatFunc:56
	float n_out56p0 = round(n_out53p0);


// FloatOp:59
	float n_in59p1 = 1.00000;
	float n_out59p0 = min(n_out56p0, n_in59p1);


// Mix:55
	float n_out55p0 = mix(float(n_out50p0), float(n_out7p0), n_out59p0);


// VectorCompose:6
	vec3 n_out6p0 = vec3(n_out9p1, n_out9p2, n_out55p0);


	vec4 n_out5p0;
// Texture2DArray:5
	n_out5p0 = texture(Eyes, n_out6p0);
	float n_out5p4 = n_out5p0.a;


// Input:16
	vec2 n_out16p0 = UV;


// FloatConstant:65
	float n_out65p0 = 0.120000;


// FloatParameter:39
	float n_out39p0 = EyebrowHeight;


// FloatOp:66
	float n_out66p0 = n_out65p0 + n_out39p0;


// VectorCompose:38
	float n_in38p0 = 0.00000;
	vec2 n_out38p0 = vec2(n_in38p0, n_out66p0);


// VectorOp:17
	vec2 n_out17p0 = n_out16p0 + n_out38p0;
	float n_out17p1 = n_out17p0.r;
	float n_out17p2 = n_out17p0.g;


// UIntParameter:12
	uint n_out12p0 = EyebrowIndex;


// VectorCompose:14
	vec3 n_out14p0 = vec3(n_out17p1, n_out17p2, float(n_out12p0));


	vec4 n_out11p0;
// Texture2DArray:11
	n_out11p0 = texture(Eyebrows, n_out14p0);
	float n_out11p4 = n_out11p0.a;


// Mix:18
	vec4 n_out18p0 = mix(n_out5p0, n_out11p0, vec4(n_out11p4));


// Input:21
	vec2 n_out21p0 = UV;


// VectorOp:32
	vec2 n_in32p1 = vec2(0.50000, 0.50000);
	vec2 n_out32p0 = n_out21p0 - n_in32p1;


// FloatConstant:63
	float n_out63p0 = 2.500000;


// FloatParameter:35
	float n_out35p0 = MouthSize;


// FloatOp:64
	float n_out64p0 = n_out63p0 - n_out35p0;


// VectorOp:29
	vec2 n_out29p0 = n_out32p0 * vec2(n_out64p0);


// VectorOp:33
	vec2 n_in33p1 = vec2(0.50000, 0.50000);
	vec2 n_out33p0 = n_out29p0 + n_in33p1;


// FloatConstant:61
	float n_out61p0 = -0.300000;


// FloatParameter:36
	float n_out36p0 = MouthHeight;


// FloatOp:62
	float n_out62p0 = n_out61p0 + n_out36p0;


// VectorCompose:37
	float n_in37p0 = 0.00000;
	vec2 n_out37p0 = vec2(n_in37p0, n_out62p0);


// VectorOp:34
	vec2 n_out34p0 = n_out37p0 * vec2(n_out64p0);


// VectorOp:22
	vec2 n_out22p0 = n_out33p0 + n_out34p0;
	float n_out22p1 = n_out22p0.r;
	float n_out22p2 = n_out22p0.g;


// UIntParameter:25
	uint n_out25p0 = MouthIndex;


// VectorCompose:23
	vec3 n_out23p0 = vec3(n_out22p1, n_out22p2, float(n_out25p0));


	vec4 n_out24p0;
// Texture2DArray:24
	n_out24p0 = texture(Mouths, n_out23p0);
	float n_out24p4 = n_out24p0.a;


// Mix:27
	vec4 n_out27p0 = mix(n_out18p0, n_out24p0, vec4(n_out24p4));


// FloatOp:19
	float n_out19p0 = max(n_out5p4, n_out11p4);


// FloatOp:28
	float n_out28p0 = max(n_out19p0, n_out24p4);


// Output:0
	ALBEDO = vec3(n_out27p0.xyz);
	ALPHA = n_out28p0;


}
"
graph_offset = Vector2(-1859.27, -526.148)
nodes/fragment/0/position = Vector2(940, 1220)
nodes/fragment/4/node = SubResource("VisualShaderNodeTexture2DArrayParameter_0msa2")
nodes/fragment/4/position = Vector2(-680, 60)
nodes/fragment/5/node = SubResource("VisualShaderNodeTexture2DArray_w1r8e")
nodes/fragment/5/position = Vector2(-240, 140)
nodes/fragment/6/node = SubResource("VisualShaderNodeVectorCompose_8legm")
nodes/fragment/6/position = Vector2(-520, -400)
nodes/fragment/7/node = SubResource("VisualShaderNodeUIntParameter_h3d2i")
nodes/fragment/7/position = Vector2(-1440, 40)
nodes/fragment/9/node = SubResource("VisualShaderNodeVectorOp_66xkb")
nodes/fragment/9/position = Vector2(-740, -520)
nodes/fragment/11/node = SubResource("VisualShaderNodeTexture2DArray_aet6k")
nodes/fragment/11/position = Vector2(-240, 840)
nodes/fragment/12/node = SubResource("VisualShaderNodeUIntParameter_jkor2")
nodes/fragment/12/position = Vector2(-860, 620)
nodes/fragment/13/node = SubResource("VisualShaderNodeTexture2DArrayParameter_gj242")
nodes/fragment/13/position = Vector2(-680, 800)
nodes/fragment/14/node = SubResource("VisualShaderNodeVectorCompose_rrygc")
nodes/fragment/14/position = Vector2(-520, 500)
nodes/fragment/16/node = SubResource("VisualShaderNodeInput_cxjf4")
nodes/fragment/16/position = Vector2(-1120, 320)
nodes/fragment/17/node = SubResource("VisualShaderNodeVectorOp_xr0uj")
nodes/fragment/17/position = Vector2(-740, 380)
nodes/fragment/18/node = SubResource("VisualShaderNodeMix_ipiie")
nodes/fragment/18/position = Vector2(187.588, 533.776)
nodes/fragment/19/node = SubResource("VisualShaderNodeFloatOp_3texk")
nodes/fragment/19/position = Vector2(205.488, 808.044)
nodes/fragment/21/node = SubResource("VisualShaderNodeInput_5wuyq")
nodes/fragment/21/position = Vector2(-1840, 940)
nodes/fragment/22/node = SubResource("VisualShaderNodeVectorOp_iwp6e")
nodes/fragment/22/position = Vector2(-760, 1180)
nodes/fragment/23/node = SubResource("VisualShaderNodeVectorCompose_hrwp8")
nodes/fragment/23/position = Vector2(-540, 1300)
nodes/fragment/24/node = SubResource("VisualShaderNodeTexture2DArray_pcrl7")
nodes/fragment/24/position = Vector2(-260, 1640)
nodes/fragment/25/node = SubResource("VisualShaderNodeUIntParameter_3cci8")
nodes/fragment/25/position = Vector2(-880, 1400)
nodes/fragment/26/node = SubResource("VisualShaderNodeTexture2DArrayParameter_esi73")
nodes/fragment/26/position = Vector2(-700, 1580)
nodes/fragment/27/node = SubResource("VisualShaderNodeMix_rcpnn")
nodes/fragment/27/position = Vector2(528.137, 1053.03)
nodes/fragment/28/node = SubResource("VisualShaderNodeFloatOp_ou261")
nodes/fragment/28/position = Vector2(540, 1360)
nodes/fragment/29/node = SubResource("VisualShaderNodeVectorOp_57fa5")
nodes/fragment/29/position = Vector2(-1260, 960)
nodes/fragment/32/node = SubResource("VisualShaderNodeVectorOp_usdsx")
nodes/fragment/32/position = Vector2(-1480, 960)
nodes/fragment/33/node = SubResource("VisualShaderNodeVectorOp_ahumg")
nodes/fragment/33/position = Vector2(-1080, 1120)
nodes/fragment/34/node = SubResource("VisualShaderNodeVectorOp_yv685")
nodes/fragment/34/position = Vector2(-1080, 1320)
nodes/fragment/35/node = SubResource("VisualShaderNodeFloatParameter_bhlgu")
nodes/fragment/35/position = Vector2(-1780, 1240)
nodes/fragment/36/node = SubResource("VisualShaderNodeFloatParameter_nctgo")
nodes/fragment/36/position = Vector2(-1880, 1600)
nodes/fragment/37/node = SubResource("VisualShaderNodeVectorCompose_rxqw2")
nodes/fragment/37/position = Vector2(-1440, 1560)
nodes/fragment/38/node = SubResource("VisualShaderNodeVectorCompose_n1t8u")
nodes/fragment/38/position = Vector2(-1000, 480)
nodes/fragment/39/node = SubResource("VisualShaderNodeFloatParameter_xs7ar")
nodes/fragment/39/position = Vector2(-1480, 560)
nodes/fragment/40/node = SubResource("VisualShaderNodeFloatParameter_3jhca")
nodes/fragment/40/position = Vector2(-1540, -420)
nodes/fragment/41/node = SubResource("VisualShaderNodeVectorCompose_jrjqc")
nodes/fragment/41/position = Vector2(-980, -420)
nodes/fragment/49/node = SubResource("VisualShaderNodeInput_8kh30")
nodes/fragment/49/position = Vector2(-1100, -720)
nodes/fragment/50/node = SubResource("VisualShaderNodeUIntParameter_wxowv")
nodes/fragment/50/position = Vector2(-1440, -140)
nodes/fragment/51/node = SubResource("VisualShaderNodeInput_7ael0")
nodes/fragment/51/position = Vector2(-2240, 200)
nodes/fragment/53/node = SubResource("VisualShaderNodeFloatOp_lew7t")
nodes/fragment/53/position = Vector2(-1640, 240)
nodes/fragment/55/node = SubResource("VisualShaderNodeMix_vbqqe")
nodes/fragment/55/position = Vector2(-960, -40)
nodes/fragment/56/node = SubResource("VisualShaderNodeFloatFunc_1f80w")
nodes/fragment/56/position = Vector2(-1480, 240)
nodes/fragment/57/node = SubResource("VisualShaderNodeIntConstant_isbkg")
nodes/fragment/57/position = Vector2(-1780, 320)
nodes/fragment/58/node = SubResource("VisualShaderNodeFloatOp_dg2ka")
nodes/fragment/58/position = Vector2(-1800, 200)
nodes/fragment/59/node = SubResource("VisualShaderNodeFloatOp_g656x")
nodes/fragment/59/position = Vector2(-1280, 220)
nodes/fragment/61/node = SubResource("VisualShaderNodeFloatConstant_w567n")
nodes/fragment/61/position = Vector2(-1800, 1520)
nodes/fragment/62/node = SubResource("VisualShaderNodeFloatOp_xw0v6")
nodes/fragment/62/position = Vector2(-1600, 1560)
nodes/fragment/63/node = SubResource("VisualShaderNodeFloatConstant_tshay")
nodes/fragment/63/position = Vector2(-1700, 1160)
nodes/fragment/64/node = SubResource("VisualShaderNodeFloatOp_plntv")
nodes/fragment/64/position = Vector2(-1480, 1180)
nodes/fragment/65/node = SubResource("VisualShaderNodeFloatConstant_84pa7")
nodes/fragment/65/position = Vector2(-1400, 480)
nodes/fragment/66/node = SubResource("VisualShaderNodeFloatOp_o6isn")
nodes/fragment/66/position = Vector2(-1180, 480)
nodes/fragment/67/node = SubResource("VisualShaderNodeFloatParameter_n75p8")
nodes/fragment/67/position = Vector2(-2220, 280)
nodes/fragment/68/node = SubResource("VisualShaderNodeFloatOp_x8op6")
nodes/fragment/68/position = Vector2(-1960, 200)
nodes/fragment/69/node = SubResource("VisualShaderNodeFloatConstant_r64cm")
nodes/fragment/69/position = Vector2(-1460, -520)
nodes/fragment/70/node = SubResource("VisualShaderNodeFloatOp_1dydu")
nodes/fragment/70/position = Vector2(-1180.06, -457.692)
nodes/fragment/connections = PackedInt32Array(4, 0, 5, 2, 9, 1, 6, 0, 9, 2, 6, 1, 13, 0, 11, 2, 14, 0, 11, 0, 17, 1, 14, 0, 17, 2, 14, 1, 5, 0, 18, 0, 11, 4, 18, 2, 5, 4, 19, 0, 11, 4, 19, 1, 26, 0, 24, 2, 23, 0, 24, 0, 25, 0, 23, 2, 22, 1, 23, 0, 22, 2, 23, 1, 18, 0, 27, 0, 24, 0, 27, 1, 24, 4, 27, 2, 19, 0, 28, 0, 24, 4, 28, 1, 27, 0, 0, 0, 28, 0, 0, 1, 21, 0, 32, 0, 32, 0, 29, 0, 29, 0, 33, 0, 33, 0, 22, 0, 34, 0, 22, 1, 37, 0, 34, 0, 16, 0, 17, 0, 38, 0, 17, 1, 41, 0, 9, 1, 12, 0, 14, 2, 49, 0, 9, 0, 55, 0, 6, 2, 57, 0, 53, 1, 58, 0, 53, 0, 56, 0, 59, 0, 59, 0, 55, 2, 50, 0, 55, 0, 7, 0, 55, 1, 53, 0, 56, 0, 6, 0, 5, 0, 11, 0, 18, 1, 61, 0, 62, 0, 36, 0, 62, 1, 62, 0, 37, 1, 63, 0, 64, 0, 64, 0, 29, 1, 64, 0, 34, 1, 35, 0, 64, 1, 65, 0, 66, 0, 39, 0, 66, 1, 66, 0, 38, 1, 51, 0, 68, 0, 67, 0, 68, 1, 68, 0, 58, 0, 69, 0, 70, 0, 40, 0, 70, 1, 70, 0, 41, 1)
